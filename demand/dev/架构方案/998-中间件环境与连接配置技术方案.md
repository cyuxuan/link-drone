# 中间件环境与连接配置技术方案

## 目标
- 统一准备并配置 Nacos、MySQL、Redis、Elasticsearch、消息队列等依赖中间件，保障本地/测试/生产一致。

## 规划
- 本地：Docker Compose 一键启动；测试：共享集群；生产：高可用集群。

## 连接配置要点
- `Nacos`：`server-addr=127.0.0.1:8848`，命名空间与分组区分环境。
- `MySQL`：连接池（Druid/Hikari），超时与重试策略，字符集与时区统一。
- `Redis`：连接最大数/超时；键前缀约定；持久化策略。
- `Elasticsearch`：节点发现与认证；索引模板初始化。
- `MQ`：命名空间/主题/消费组命名规范；顺序与重试策略一致。

## 安全与隔离
- 环境变量与凭据管理（.env/配置中心加密）；最小权限账户。
- 网络隔离与端口暴露控制；仅网关对外开放。

## 验收标准
- 所有服务在本地环境能连通各中间件；生产监控指标正常。