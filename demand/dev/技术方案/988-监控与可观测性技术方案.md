# 监控与可观测性技术方案

## 目标
- 建立度量/追踪/日志三位一体的可观测性体系，覆盖性能、错误与业务指标。

## 技术选型
- 指标：`Micrometer` + `Prometheus` + `Grafana`。
- 追踪：`Spring Cloud Sleuth`/`OpenTelemetry` + Jaeger（可选）。
- 日志：JSON 格式 + 采集/聚合（ELK/Vector + Loki）。

## 指标与仪表盘
- JVM/线程池/HTTP/数据库连接池/消息队列指标。
- 业务指标：订单创建/支付成功率、接口 P95/P99 延迟。

## 追踪与链路
- 网关注入 `trace_id`；跨服务透传；重要操作打点。

## 日志规范
- 结构化日志；敏感信息脱敏；错误栈记录 `trace_id`。

## 运维与告警
- 阈值告警：错误率、延迟、积压；值班通知。

## 验收标准
- 关键仪表盘与告警生效；能快速定位问题与还原调用链。