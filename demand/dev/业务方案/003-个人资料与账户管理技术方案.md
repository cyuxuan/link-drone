# 003-个人资料与账户管理技术方案

## 目标
- 提供资料查询与修改、密码变更、手机号/邮箱绑定、账号禁用与启用等能力。

## 业务流程
- 修改资料：校验权限 → 字段校验 → 持久化 → 返回最新资料。
- 修改密码：校验旧密码 → 生成新哈希 → 失效旧令牌 → 强制重新登录。
- 绑定联系方式：下发验证码 → 校验通过 → 更新绑定状态。

## 接口设计
- `GET /user/profile`，`PUT /user/profile`，`POST /user/password/change`，`POST /user/bind/phone`，`POST /user/bind/email`。

## 数据模型
- `user_profile(user_id, avatar, nickname, intro, region, ... )`
- `verify_code(id, type, target, code, expires_at, used)`

## 安全与合规
- 敏感信息脱敏；操作审计；验证码频率限制与过期控制。

## 验收标准
- 资料更新幂等；密码修改后旧令牌失效；绑定与验证码流程可用。