# 009-文件上传下载与签名授权技术方案

## 目标
- 提供分片上传、断点续传、签名下载与权限控制能力。

## 业务流程
- 上传初始化 → 分片上传 → 服务端合并 → 校验 MD5 → 生成文件元数据。
- 下载：鉴权校验 → 返回限时签名 URL（私有资源）。

## 接口设计
- `POST /file/upload`，`POST /file/upload/chunk`，`POST /file/upload/merge`，`GET /file/download/{id}`，`GET /file/sign`。

## 数据模型
- `file(id, filename, size, md5, bucket, objectKey, ownerId, visibility, createdAt)`

## 权限与安全
- 多桶策略（public/private）；签名过期与最小权限；分片清理与回收。

## 验收标准
- 支持 2GB 稳定上传；签名访问安全；并发下载稳定。