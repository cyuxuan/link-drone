# 004-供给发布与上架技术方案

## 目标
- 支持供给方发布可提供的无人机服务（运力/航拍/旅游），完成上架与基本展示。

## 业务流程
- 创建供给：校验资质 → 填写标题/描述/位置/容量/价格 → 审核（可选） → 上架。
- 更新供给：校验拥有者 → 修改字段 → 触发搜索索引更新。

## 接口设计
- `POST /supply`，`PUT /supply/{id}`，`GET /supply/{id}`，`GET /supply/list`，`POST /supply/{id}/publish`。

## 数据模型
- `supply(id, provider_id, title, desc, location, capacity, price, status, created_at)`

## 规则与校验
- 价格区间限制；容量必须为正；位置坐标合法性；文本长度限制与敏感词过滤。

## 事件与集成
- 上架/下架事件发送至消息队列；搜索服务更新索引。

## 验收标准
- 创建/更新/上架全链路可用；索引同步成功；权限校验严格。