# 010-搜索筛选与排序技术方案

## 目标
- 为供给与需求提供高性能搜索与筛选功能，支持分页与排序。

## 业务流程
- 写入：供给/需求上架与更新触发索引更新；
- 查询：根据关键词、范围、位置与标签组合查询，返回分页结果。

## 接口设计
- `POST /search/supply`，`POST /search/demand`：参数包含 `keyword/filters/sort/page/size`。

## 索引与字段
- `title(text, analyzer)`，`location(geo_point)`，`price(double)`，`capacity(integer)`，`status(keyword)`，`tags(keyword)`。

## 性能与可用性
- 查询缓存；深度分页限制与 `search_after`；批量写入与失败重试。

## 验收标准
- 10w 文档下 P95 < 200ms；索引更新延迟 < 3s。